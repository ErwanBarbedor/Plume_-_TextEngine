// Test 'script 1'
\script{
    a = 5
    b = 3
}
// Result

// End

// Test 'script 2'
\script{
    a = 5
    b = 3
}#a
// Result
5
// End

// Test 'script 3'
\def foo {//
    \script{
        local a = 5
        b = 3
    }//
    #a #b//
}//
\foo #a #b
// Result
5 3  3
// End

// Test 'script cannot return value'
\script{return 5}
// Error
File 'string', line 1 : \script cannot return value.
    \script{return 5}
           ^^^^^^^^^^
Traceback :
    File 'string', line 1 : \script{return 5}
                            ^^^^^^^
// End

// Test 'script implicit render'
\def foo[x] {//
    #{x:match(".$")}//
}//
//
\foo bar
// Result
r
// End

// Test 'script implicit render - nil key'
\def foo[x] {//
    #{x.bar}//
}//
//
\foo 1
// Result

// End

// Test 'script implicit render - test empty'
\def foo[x={}] {//
    \if {x:is_empty()} {No argument provided.}
    \else {The arg is #x.}//
}//
//
\foo//
\foo[x=bar]
// Result
No argument provided.
    
    The arg is bar.
// End
