// Test 'Variable block scope 1'
\def double[x] {#x #x}//
\def foo[x] {\double #x}//
\foo 1
// Result
1 1
// End

// Test 'Variable block scope 2'
\def bar[x] {\set[local] y 1 #x}//
\def foo {\bar #y}//
\foo
// Result
 
// End

// Test '__scope 1'
\set x 10//
#{__scope.x}
// Result
10
// End

// Test '__scope 2'
\set x 10//
\def foo {\set[local] x 5}//
\foo//
#{__scope.x}
// Result
10
// End

// Test '__scope 3'
\def foo {\set x 5 #{__scope.x}}//
\set x 10//
\foo//
// Result
 5
// End

// Test 'global 1'
\def foo {\set x 0}//
\foo//
#x//
// Result
0
// End

// Test 'global 2'
\def foo {\set x 0}//
\set x 1//
\foo//
#x//
// Result
0
// End